<!--<h2>Post Create Component</h2>-->

<mat-card>
  <mat-spinner *ngIf= "isLoading"></mat-spinner>
<form [formGroup] = "form" (submit)= "onSavePost()" *ngIf= "!isLoading">

  <mat-form-field>
    <!--<textarea matInput name="" id="" cols="30" rows="1" [(ngModel)]="enteredTitle" required></textarea>-->

    <!--template driven approach-->
    <textarea matInput name="" id="" cols="30" rows="1"
    name="title"   formControlName="title" placeholder="Post Title"></textarea>
    <mat-error *ngIf= "form.get('title')?.invalid">Please enter a post title</mat-error>

    </mat-form-field>


  <mat-form-field>
    <!--<textarea name="" id="" cols="30" rows="10" [value]="'Test'" #postInput></textarea>-->
    <!--template driven approach-->
    <textarea matInput name="" id="" cols="30" rows="10"
    name="content"   formControlName="content"placeholder="Post Content"></textarea>
    <mat-error *ngIf= "form.get('content')?.invalid">Please eneter a post body</mat-error>

    <div>
      <button mat-stroked-button type="button" (click)= "filePicker.click()">
        Pick an image
      </button>
      <input  type="file" #filePicker (change)= "onImagePick($event)">
    </div>
    <div class="image-preview" *ngIf= "imagePreview!=='' && imagePreview">
      <img [src]="imagePreview" [alt]="form.value.title">
    </div>
  </mat-form-field>
  <!--Event binding-->
  <!--<button (click)="onClick(postInput)">Save Post</button>-->
  <!--<button mat-raised-button color="primary" (click)="onAddPost()">Save Post</button>-->
  <button mat-raised-button color="primary" type="submit">Save Post</button>
</form>

</mat-card>



<!--String interpolation-->
<!--<p>{{newPost}}</p>-->
